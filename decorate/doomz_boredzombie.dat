

ACTOR zDoomImp
{
  Health 60
  Radius 20
  Height 56
  Mass 100
  Speed 8
  PainChance 200
  Monster
  +FLOORCLIP
  SeeSound "imp/sight"
  PainSound "imp/pain"
  DeathSound "imp/death"
  ActiveSound "imp/active"
  HitObituary "$OB_IMPHIT"
  Obituary "$OB_IMP"
  States
  {
  Spawn:
    TROO AB 10 A_Look
    Loop
  See:
    TROO AABBCCDD 3 A_Chase
    Loop
  Melee:
  Missile:
    TROO EF 8 A_FaceTarget
    TROO G 6 A_TroopAttack
    Goto See
  Pain:
    TROO H 2
    TROO H 2 A_Pain
    Goto See
  Death:
    TROO I 8
    TROO J 8 A_Scream
    TROO K 6
    TROO L 6 A_NoBlocking
    TROO M -1
    Stop
  XDeath:
    TROO N 5
    TROO O 5 A_XScream
    TROO P 5
    TROO Q 5 A_NoBlocking
    TROO RST 5
    TROO U -1
    Stop
  Raise:
    TROO ML 8
    TROO KJI 6
    Goto See
  }
}
 


ACTOR zDoomImpf //latest
{
  Health 60
  Radius 20
  Height 56
  Mass 100
  Speed 8
  PainChance 200
  Monster
  +FLOORCLIP
  SeeSound "imp/sight"
  PainSound "imp/pain"
  DeathSound "imp/death"
  ActiveSound "imp/active"
  HitObituary "$OB_IMPHIT"
  Obituary "$OB_IMP"
  States
  {
  Spawn:
    TROO AB 10 A_Look
    Loop
  See:
    TROO AABBCCDD 3 A_Chase
    Loop
  Melee:
  Missile:
    TROO EF 8 A_FaceTarget
    TROO G 6 A_TroopAttack
    Goto See
  Pain:
    TROO H 2
    TROO H 2 A_Pain
    Goto See
  Death:
    TROO I 8
    TROO J 8 A_Scream
    TROO K 6
    TROO L 6 A_NoBlocking
    TROO M -1
    Stop
  XDeath:
    TROO N 5
    TROO O 5 A_XScream
    TROO P 5
    TROO Q 5 A_NoBlocking
    TROO RST 5
    TROO U -1
    Stop
  Raise:
    TROO ML 8
    TROO KJI 6
    Goto See
  }
}
 

 
Actor zForgetfulImp : zDoomImp 31210
{
var int user_forget;
  States
  {
  See:
    TROO AABBCCDD 3 A_Chase
	 TROO A  1 A_SetUserVar("user_forget",1)  
//   tOO A 0 ACS_Execute(19,1,user_forget,user_forget) //CountInv("Forgettimer")
  Loop
  Melee:

  Forget: 
     TROO A 0 A_TakeInventory("Forgettimer", 20)
	 TROO A 0 ACS_Execute(20,1)
     TROO A 3 A_ClearTarget
     Goto Spawn
  }
}












Actor ForgetfulImp : DoomImp 
{
  States
  {
  See:
    TROO AABBCCDD 3 A_Chase
	TROO A 3 A_ClearTarget
    TROO A 0 A_GiveInventory("Forgettimer", 1) // A dummy inventory for tracking how long the imp has been searching.
    TROO A 0 A_JumpIfInventory("Forgettimer", 5, "Forget") // Jump to the Forget state when the timer reaches 20 
    Loop
  Melee:
  Missile:
     TROO E 0 A_TakeInventory("Forgettimer", 20) // Reset the timer.
     TROO EF 8 A_FaceTarget
     TROO G 6 A_TroopAttack
     Goto See
  Forget: 
     TROO A 0 A_TakeInventory("Forgettimer", 20)
     TROO A 3 A_ClearTarget
     Goto Spawn
  }
}


ACTOR fi2 //forgetful imp 2 - he forgets too quickly
{
  Health 60
  Radius 20
  Height 56
  Mass 100
  Speed 8
  PainChance 200
  Monster
  +FLOORCLIP
  SeeSound "imp/sight"
  PainSound "imp/pain"
  DeathSound "imp/death"
  ActiveSound "imp/active"
  HitObituary "$OB_IMPHIT"
  Obituary "$OB_IMP"
  States
  {
  Spawn:
    TROO AB 10 A_Look
	  TROO ABABAB 10 A_wander
    Loop
	
	
    See:
	
	
	
    TROO AABBCCDD 3 A_Chase
	
    //TROO A 0 A_GiveInventory("Forgettimer", 1) // A dummy inventory for tracking how long the imp has been searching.
   // TROO A 0 A_JumpIfInventory("Forgettimer", 5, "Forget") // Jump to the Forget state when the timer reaches 20 
    TROO A 3 A_ClearTarget
   Loop
  Melee:
  
 
     TROO E 0 A_TakeInventory("Forgettimer", 20) // Reset the timer.
     TROO EF 8 A_FaceTarget
	  ypos a 6 A_SkelFist
  
     Goto See
  Forget: 
     TROO A 0 A_TakeInventory("Forgettimer", 20)
     TROO A 3 A_ClearTarget
     Goto Spawn
  Pain:
    TROO H 2
    TROO H 2 A_Pain
    Goto See
  Death:
    TROO I 8
    TROO J 8 A_Scream
    TROO K 6
    TROO L 6 A_NoBlocking
    TROO M -1
    Stop
  XDeath:
    TROO N 5
    TROO O 5 A_XScream
    TROO P 5
    TROO Q 5 A_NoBlocking
    TROO RST 5
    TROO U -1
    Stop
  Raise:
    TROO ML 8
    TROO KJI 6
    Goto See
  }
}




